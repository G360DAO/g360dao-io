window.cfields=[],window._show_thank_you=function(e,t,a,n){var r=document.getElementById("_form_"+e+"_"),o=r.querySelector("._form-thank-you");r.querySelector("._form-content").style.display="none",o.innerHTML=t,o.style.display="block";const s="undefined"==typeof visitorGlobalObjectAlias?"vgo":visitorGlobalObjectAlias;var l=window[s];n&&void 0!==l?(l("setEmail",n),l("update")):void 0!==a&&a&&_load_script(a),void 0!==window._form_callback&&window._form_callback(e)},window._show_error=function(e,t,a){var n=document.getElementById("_form_"+e+"_"),r=document.createElement("div"),o=n.querySelector("button"),s=n.querySelector("._form_error");s&&s.parentNode.removeChild(s),r.innerHTML=t,r.className="_error-inner _form_error _no_arrow";var l=document.createElement("div");if(l.className="_form-inner",l.appendChild(r),o.parentNode.insertBefore(l,o),document.querySelector('[id^="_form"][id$="_submit"]').disabled=!1,a){var i=document.createElement("div");i.className="_error-html",i.innerHTML=a,r.appendChild(i)}},window._load_script=function(e,t){var a=document.querySelector("head"),n=document.createElement("script"),r=!1;n.type="text/javascript",n.charset="utf-8",n.src=e,t&&(n.onload=n.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,t())}),a.appendChild(n)},function(){if(-1!==window.location.search.search("excludeform"))return!1;for(var e,t=function(e,t,a){if(e.addEventListener)e.addEventListener(t,a);else{var n=e["on"+t];e["on"+t]=function(){n.apply(this,arguments),a.apply(this,arguments)}}},a=document.getElementById("_form_81_"),n=a.querySelectorAll("input, select, textarea"),r=[],o=!1,s=0;s<n.length;s++){var l=new RegExp("field\\[(\\d+)\\]").exec(n[s].name);n[s].dataset.name=null!=l?window.cfields[l[1]]:n[s].name;var i=(e=n[s].dataset.name,new URLSearchParams(window.location.search).get(e)||!1);if(i){if("false"===n[s].dataset.autofill)continue;"radio"==n[s].type||"checkbox"==n[s].type?n[s].value==i&&(n[s].checked=!0):n[s].value=i}}var c=function(e,t){var a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),s={};return"radio"!=e.type&&"checkbox"!=e.type?(a.className="_error",n.className="_error-arrow",o.className="_error-inner",o.innerHTML=t,a.appendChild(n),a.appendChild(o),e.parentNode.appendChild(a)):(a.className="_error-inner _no_arrow",a.innerHTML=t,e.parentNode.insertBefore(a,e),s.no_arrow=!0),s.tip=a,s.elem=e,r.push(s),s},m=function(e){var t=e.elem.getBoundingClientRect(),a=document.documentElement,n=t.top-((window.pageYOffset||a.scrollTop)-(a.clientTop||0));e.tip.className=n<40?e.tip.className.replace(/ ?(_above|_below) ?/g,"")+" _below":e.tip.className.replace(/ ?(_above|_below) ?/g,"")+" _above"},d=function(){for(var e=0;e<r.length;e++)r[e].no_arrow||m(r[e])},u=function(e,t){var n=null,o=e.value,s=!0;if(t&&function(e){for(var t=0;t<r.length;t++)if(r[t].elem===e)return r[t].tip.parentNode.removeChild(r[t].tip),void r.splice(t,1)}(e),"checkbox"!=e.type&&(e.className=e.className.replace(/ ?_has_error ?/g,"")),null!==e.getAttribute("required"))if("radio"==e.type||"checkbox"==e.type&&/any/.test(e.className)){if(!((i=a.elements[e.name])instanceof NodeList||i instanceof HTMLCollection)||i.length<=1)s=e.checked;else{s=!1;for(var l=0;l<i.length;l++)i[l].checked&&(s=!0)}s||(n=c(e,"Please select an option."))}else if("checkbox"==e.type){var i=a.elements[e.name],d=!1,u=[];s=!0;for(l=0;l<i.length;l++)if(null!==i[l].getAttribute("required")){if(!d&&i[l]!==e)return!0;d=!0,i[l].className=i[l].className.replace(/ ?_has_error ?/g,""),i[l].checked||(s=!1,i[l].className=i[l].className+" _has_error",u.push("Checking %s is required".replace("%s",i[l].value)))}s||(n=c(e,u.join("<br/>")))}else if("SELECT"==e.tagName){var p=!0;if(e.multiple){p=!1;for(l=0;l<e.options.length;l++)if(e.options[l].selected){p=!0;break}}else for(l=0;l<e.options.length;l++)!e.options[l].selected||e.options[l].value&&!e.options[l].value.match(/\n/g)||(p=!1);p||(e.className=e.className+" _has_error",s=!1,n=c(e,"Please select an option."))}else null!=o&&""!==o||(e.className=e.className+" _has_error",s=!1,n=c(e,"This field is required."));return s&&"email"==e.name&&(o.match(/^[\+_a-z0-9-'&=]+(\.[\+_a-z0-9-']+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,})$/i)||(e.className=e.className+" _has_error",s=!1,n=c(e,"Enter a valid email address."))),s&&/date_field/.test(e.className)&&(o.match(/^\d\d\d\d-\d\d-\d\d$/)||(e.className=e.className+" _has_error",s=!1,n=c(e,"Enter a valid date."))),n&&m(n),s},p=function(e){return null!==e.getAttribute("required")||"email"===e.name&&""!==e.value},f=function(e){a.querySelector("._form_error");var s=!0;if(!o){o=!0;for(var l=0,i=n.length;l<i;l++){var c=n[l];p(c)&&("text"==c.type||"number"==c.type||"time"==c.type?(t(c,"blur",(function(){this.value=this.value.trim(),u(this,!0)})),t(c,"input",(function(){u(this,!0)}))):"radio"==c.type||"checkbox"==c.type?function(e){for(var n=a.elements[e.name],r=0;r<n.length;r++)t(n[r],"click",(function(){u(e,!0)}))}(c):"SELECT"==c.tagName?t(c,"change",(function(){u(this,!0)})):"textarea"==c.type&&t(c,"input",(function(){u(this,!0)})))}}!function(){for(var e=0;e<r.length;e++)r[e].tip.parentNode.removeChild(r[e].tip);r=[]}();for(l=0,i=n.length;l<i;l++){var m=n[l];p(m)&&("select"!==m.tagName.toLowerCase()&&(m.value=m.value.trim()),u(m)||(s=!1))}return!s&&e&&e.preventDefault(),d(),s};t(window,"resize",d),t(window,"scroll",d);t(a,"submit",(function(e){if(e.preventDefault(),f()){document.querySelector("#_form_81_submit").disabled=!0;var t=function(e){if(e&&"FORM"===e.nodeName){var t,a,n=[];for(t=0;t<e.elements.length;t++)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"number":case"date":case"time":case"hidden":case"password":case"button":case"reset":case"submit":n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"checkbox":case"radio":e.elements[t].checked&&n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}break;case"TEXTAREA":n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"SELECT":switch(e.elements[t].type){case"select-one":n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"select-multiple":for(a=0;a<e.elements[t].options.length;a++)e.elements[t].options[a].selected&&n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[a].value))}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":n.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}}return n.join("&")}}(document.getElementById("_form_81_")).replace(/%0A/g,"\\n"),n=a.querySelector("._form_error");n&&n.parentNode.removeChild(n),_load_script("https://guardian360.activehosted.com/proc.php?"+t+"&jsonp=true")}return!1}))}();